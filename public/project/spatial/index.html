<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spatial Math: All-in-One</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    
    <!-- LOAD SHARED SCRIPT DIRECTLY -->
    <script src="./spatialscript.js"></script>

    <style>
        body { background-color: #0f172a; color: white; font-family: 'Poppins', sans-serif; overflow: hidden; }
        .tech-font { font-family: 'Orbitron', sans-serif; }
        .mirror-mode { transform: scaleX(-1); }
        
        #webcam-layer { position: absolute; inset: 0; z-index: 0; display: none; }
        #canvas-layer { position: absolute; inset: 0; z-index: 1; pointer-events: none; }
        #canvas-layer.interactive { pointer-events: auto; }
        #ui-layer { position: absolute; inset: 0; z-index: 10; pointer-events: none; }
        .pointer-events-auto { pointer-events: auto; }
        
        .home-card {
            transition: all 0.3s ease;
            background: rgba(30, 41, 59, 0.9);
            border: 1px solid rgba(148, 163, 184, 0.2);
        }
        .home-card:hover {
            transform: translateY(-5px);
            border-color: #06b6d4;
            box-shadow: 0 10px 30px -10px rgba(6, 182, 212, 0.5);
        }
        .mode-section { display: none; height: 100%; width: 100%; }
        .mode-section.active { display: block; }
    </style>
</head>
<body>

    <!-- 1. MEDIA LAYERS -->
    <div id="webcam-layer">
        <video id="webcam" class="mirror-mode w-full h-full object-cover" autoplay playsinline></video>
        <canvas id="output_canvas" class="mirror-mode w-full h-full object-cover absolute top-0 left-0"></canvas>
    </div>
    
    <div id="canvas-layer">
        <canvas id="three_canvas" class="w-full h-full"></canvas>
    </div>

    <!-- 2. UI LAYER -->
    <div id="ui-layer" class="flex flex-col h-full">
        
        <!-- HOME SCREEN -->
        <div id="home-screen" class="mode-section active bg-slate-900 pointer-events-auto overflow-y-auto">
            <div class="container mx-auto px-4 py-10 flex flex-col items-center min-h-screen justify-center">
                <div class="text-center mb-12">
                    <h1 class="text-4xl md:text-6xl font-bold text-cyan-400 tech-font mb-4">SPATIAL MATH</h1>
                    <p class="text-slate-400 text-lg">Interactive 3D Learning Platform</p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-5xl">
                    <button onclick="enterMode('SHAPE')" class="home-card p-8 rounded-2xl flex flex-col items-center text-center group">
                        <div class="w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mb-6 group-hover:bg-green-500/40 transition">
                            <i data-lucide="shapes" class="w-10 h-10 text-green-400"></i>
                        </div>
                        <h2 class="text-2xl font-bold text-white mb-2">1. Shapes</h2>
                        <p class="text-slate-400 text-sm">Explore 3D geometry. Use mouse to rotate.</p>
                    </button>

                    <button onclick="enterMode('NET')" class="home-card p-8 rounded-2xl flex flex-col items-center text-center group">
                        <div class="w-20 h-20 bg-pink-500/20 rounded-full flex items-center justify-center mb-6 group-hover:bg-pink-500/40 transition">
                            <i data-lucide="box" class="w-10 h-10 text-pink-400"></i>
                        </div>
                        <h2 class="text-2xl font-bold text-white mb-2">2. Nets</h2>
                        <p class="text-slate-400 text-sm">Unfold shapes into flat patterns.</p>
                    </button>

                    <button onclick="enterMode('SPATIAL')" class="home-card p-8 rounded-2xl flex flex-col items-center text-center group">
                        <div class="w-20 h-20 bg-blue-500/20 rounded-full flex items-center justify-center mb-6 group-hover:bg-blue-500/40 transition">
                            <i data-lucide="cuboid" class="w-10 h-10 text-blue-400"></i>
                        </div>
                        <h2 class="text-2xl font-bold text-white mb-2">3. Spatial AR</h2>
                        <p class="text-slate-400 text-sm">Use your hand to solve 3D puzzles.</p>
                    </button>
                </div>
            </div>
        </div>

        <!-- HUD (Shared) -->
        <div id="hud" class="hidden w-full h-full relative">
            <!-- Top Nav -->
            <div class="absolute top-0 left-0 w-full p-4 flex justify-between items-start pointer-events-auto z-20">
                <button onclick="goHome()" class="px-4 py-2 bg-slate-800/80 hover:bg-slate-700 border border-slate-600 rounded-lg text-white flex items-center gap-2 transition backdrop-blur">
                    <i data-lucide="arrow-left"></i> Home
                </button>
                
                <div id="status-panel" class="hidden flex-col items-end gap-2">
                     <button id="toggleCam" class="px-4 py-2 bg-cyan-600 hover:bg-cyan-500 rounded-lg text-white font-bold shadow-lg shadow-cyan-500/20 flex items-center gap-2 transition">
                        <i data-lucide="camera"></i> Start Camera
                    </button>
                    <div id="status-text" class="text-[10px] text-yellow-400 font-mono bg-black/50 px-2 py-1 rounded">Wait...</div>
                </div>
            </div>

            <!-- Shape/Net Controls -->
            <div id="studio-controls" class="hidden absolute bottom-8 left-1/2 transform -translate-x-1/2 pointer-events-auto flex flex-col items-center gap-4 w-full px-4">
                <div id="net-slider-container" class="hidden w-full max-w-md bg-black/60 backdrop-blur p-4 rounded-xl border border-gray-700">
                    <div class="flex justify-between text-sm text-gray-300 mb-2 font-bold">
                        <span>Folded</span>
                        <span>Flat</span>
                    </div>
                    <input type="range" id="unfold-slider" min="0" max="1" step="0.01" value="0" class="w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer">
                </div>

                <div id="shape-selector" class="bg-black/80 backdrop-blur border border-gray-700 rounded-2xl p-2 flex items-center gap-2 overflow-x-auto max-w-full">
                    <!-- JS Injected -->
                </div>
                
                <div class="text-white/50 text-xs mt-2 animate-pulse">
                    <i data-lucide="mouse-pointer" class="inline w-3 h-3"></i> Drag to Rotate
                </div>
            </div>

            <!-- Spatial Controls -->
            <div id="spatial-controls" class="hidden absolute right-0 top-16 bottom-0 w-64 bg-black/90 border-l border-gray-800 pointer-events-auto flex flex-col transform transition-transform duration-300 translate-x-full md:translate-x-0">
                <div class="p-4 border-b border-gray-700 font-bold text-cyan-400 tech-font">LEVELS</div>
                <div id="level-list" class="flex-grow overflow-y-auto p-2 space-y-2">
                    <div class="text-center text-gray-500 text-sm mt-4">Loading...</div>
                </div>
                <div class="p-4 border-t border-gray-700 bg-gray-900">
                    <div class="flex justify-between text-xs text-gray-400 mb-2">
                        <span>COUNTER</span>
                        <button onclick="resetCount()" class="text-red-400 hover:text-white">RESET</button>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="count(-1)" class="flex-1 bg-gray-700 hover:bg-gray-600 py-3 rounded text-white"><i data-lucide="minus"></i></button>
                        <button onclick="count(1)" class="flex-1 bg-green-600 hover:bg-green-500 py-3 rounded text-white"><i data-lucide="plus"></i></button>
                    </div>
                </div>
            </div>
            
            <button id="spatial-toggle" class="md:hidden absolute top-20 right-0 bg-cyan-600 p-2 rounded-l-lg pointer-events-auto text-white hidden" onclick="toggleSpatialMenu()">
                <i data-lucide="list"></i>
            </button>

            <div id="ar-toast" class="hidden absolute top-24 left-1/2 transform -translate-x-1/2 bg-black/60 px-6 py-2 rounded-full text-white backdrop-blur pointer-events-none border border-white/20">
                Raise your hand to start
            </div>
        </div>
    </div>

    <script type="module">
        import { FilesetResolver, HandLandmarker } from "https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.3";
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        import { getAuth, signInAnonymously } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";

        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {
            apiKey: "AIzaSyAlfZHbCFxGK3p3nDoAPy3m9KqZzmX2s9I",
            authDomain: "kruboat-web.firebaseapp.com",
            projectId: "kruboat-web",
            storageBucket: "kruboat-web.firebasestorage.app",
            messagingSenderId: "61868765546",
            appId: "1:61868765546:web:683b18ddf68c89dd317513"
        };
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app';

        let mode = 'HOME';
        let scene, camera, renderer, orbit;
        let mainGroup; 
        let handLandmarker;
        let webcamRunning = false;
        let lastVideoTime = -1;
        let levels = [];
        let spatialBlocks = [];
        let countIdx = 0;

        window.addEventListener('load', () => {
            initAppWithRetry();
        });

        // --- ROBUST LOADING SYSTEM ---
        function initAppWithRetry() {
            let attempts = 0;
            const maxAttempts = 50; 
            
            console.log("App: Checking for SpatialScript...");

            const checker = setInterval(() => {
                attempts++;
                // Check if script AND init function exist
                if (window.SpatialScript && window.SpatialScript.initThreeJS) {
                    clearInterval(checker);
                    console.log("App: SpatialScript found.");
                    startThreeJS();
                } else if (attempts >= maxAttempts) {
                    clearInterval(checker);
                    alert("Initialization Timeout: 'spatialscript.js' did not load.\nPlease ensure the file is in the same folder and refresh.");
                }
            }, 100);
        }

        function startThreeJS() {
            try {
                const t = window.SpatialScript.initThreeJS('three_canvas');
                if(!t) throw new Error("ThreeJS init failed");
                
                scene = t.scene;
                camera = t.camera;
                renderer = t.renderer;

                orbit = new THREE.OrbitControls(camera, renderer.domElement);
                orbit.enableDamping = true;
                orbit.dampingFactor = 0.05;
                orbit.enabled = false;

                mainGroup = new THREE.Group();
                scene.add(mainGroup);

                window.addEventListener('resize', () => {
                    camera.aspect = window.innerWidth / window.innerHeight;
                    camera.updateProjectionMatrix();
                    renderer.setSize(window.innerWidth, window.innerHeight);
                    document.getElementById('output_canvas').width = window.innerWidth;
                    document.getElementById('output_canvas').height = window.innerHeight;
                });

                requestAnimationFrame(animate);
                setupAI(); 
            } catch (e) {
                console.error(e);
                alert("Runtime Error: " + e.message);
            }
        }

        function animate() {
            requestAnimationFrame(animate);
            if (mode === 'SHAPE' || mode === 'NET') orbit.update();
            if (mode === 'SPATIAL' && webcamRunning) runAI();
            if (renderer && scene && camera) renderer.render(scene, camera);
        }

        window.enterMode = function(newMode) {
            try {
                // *** FIX: Check if mainGroup exists first ***
                if (!mainGroup) {
                    alert("System not initialized yet. Please wait...");
                    return;
                }

                mode = newMode;
                document.getElementById('home-screen').classList.remove('active');
                document.getElementById('hud').classList.remove('hidden');
                
                ['studio-controls', 'net-slider-container', 'status-panel', 'spatial-controls', 'spatial-toggle', 'ar-toast'].forEach(id => {
                    document.getElementById(id).classList.add('hidden');
                });
                document.getElementById('webcam-layer').style.display = 'none';

                // Safe clear
                while(mainGroup.children.length > 0) mainGroup.remove(mainGroup.children[0]);
                mainGroup.visible = true;
                
                camera.position.set(0, 0, 5);
                camera.lookAt(0, 0, 0);

                if (newMode === 'SHAPE' || newMode === 'NET') {
                    if (window.SpatialScript.setupSceneMode) {
                        window.SpatialScript.setupSceneMode(scene, 'STUDIO');
                    }
                    document.getElementById('canvas-layer').classList.add('interactive');
                    orbit.enabled = true;
                    
                    document.getElementById('studio-controls').classList.remove('hidden');
                    renderShapeSelector();
                    
                    if (newMode === 'NET') {
                        document.getElementById('net-slider-container').classList.remove('hidden');
                        document.getElementById('unfold-slider').value = 0;
                    }
                    loadObject('cube');

                } else if (newMode === 'SPATIAL') {
                    if (window.SpatialScript.setupSceneMode) {
                        window.SpatialScript.setupSceneMode(scene, 'AR');
                    }
                    document.getElementById('canvas-layer').classList.remove('interactive');
                    orbit.enabled = false;
                    
                    document.getElementById('webcam-layer').style.display = 'block';
                    document.getElementById('status-panel').classList.remove('hidden');
                    document.getElementById('spatial-controls').classList.remove('hidden');
                    document.getElementById('spatial-toggle').classList.remove('hidden');
                    
                    mainGroup.visible = false;
                    loadLevels();
                }
            } catch (e) {
                console.error("Mode switch error:", e);
                alert("Error switching mode: " + e.message);
            }
        };

        window.goHome = function() {
            mode = 'HOME';
            document.getElementById('home-screen').classList.add('active');
            document.getElementById('hud').classList.add('hidden');
            document.getElementById('webcam-layer').style.display = 'none';
            if (webcamRunning) toggleCamera();
        };

        function renderShapeSelector() {
            const shapes = ['cube', 'cuboid', 'cone', 'cylinder', 'pyramid', 'circle'];
            const container = document.getElementById('shape-selector');
            container.innerHTML = '';
            shapes.forEach(s => {
                const btn = document.createElement('button');
                btn.className = "w-10 h-10 rounded-full bg-gray-700 hover:bg-gray-600 border border-gray-500 flex items-center justify-center transition focus:border-cyan-400";
                let icon = 'box';
                if(s === 'circle') icon = 'circle';
                if(s === 'pyramid' || s === 'cone') icon = 'triangle';
                btn.innerHTML = `<i data-lucide="${icon}" class="w-5 h-5 text-white"></i>`;
                btn.onclick = () => loadObject(s);
                container.appendChild(btn);
            });
            lucide.createIcons();
        }

        function loadObject(type) {
            if (!mainGroup) return;
            while(mainGroup.children.length > 0) mainGroup.remove(mainGroup.children[0]);
            if (mode === 'NET') {
                const net = window.SpatialScript.createNet(type);
                mainGroup.add(net);
                const slider = document.getElementById('unfold-slider');
                slider.oninput = (e) => window.SpatialScript.updateNetAnimation(net, parseFloat(e.target.value));
                slider.value = 0;
                window.SpatialScript.updateNetAnimation(net, 0);
            } else {
                const mesh = window.SpatialScript.createShape(type);
                mainGroup.add(mesh);
            }
        }

        async function loadLevels() {
            const list = document.getElementById('level-list');
            list.innerHTML = '<div class="text-center text-gray-500 animate-pulse">Connecting...</div>';
            try {
                if (!auth.currentUser) await signInAnonymously(auth);
                const colRef = collection(db, 'artifacts', appId, 'public', 'data', 'spatial_math_levels');
                const snapshot = await getDocs(colRef);
                levels = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                levels.sort((a,b) => (a.createdAt?.seconds || 0) - (b.createdAt?.seconds || 0));
                
                list.innerHTML = '';
                if (levels.length === 0) {
                    list.innerHTML = '<div class="text-center text-gray-500">No levels found.</div>';
                    return;
                }
                levels.forEach(lvl => {
                    const div = document.createElement('div');
                    div.className = "p-3 bg-gray-800 rounded hover:bg-gray-700 cursor-pointer border border-gray-600 mb-2";
                    div.innerHTML = `<div class="font-bold text-white text-sm">${lvl.name}</div><div class="text-[10px] text-gray-400">${lvl.difficulty}</div>`;
                    div.onclick = () => spawnLevel(lvl);
                    list.appendChild(div);
                });
            } catch(e) {
                console.error(e);
                list.innerHTML = '<div class="text-red-400 text-center text-xs">Load Failed.</div>';
            }
        }

        function spawnLevel(lvl) {
            if (!mainGroup) return;
            while(mainGroup.children.length > 0) mainGroup.remove(mainGroup.children[0]);
            spatialBlocks = [];
            countIdx = 0;
            if (lvl.blocks) {
                let minX=Infinity, maxX=-Infinity, minY=Infinity, maxY=-Infinity, minZ=Infinity, maxZ=-Infinity;
                lvl.blocks.forEach(b => {
                    minX = Math.min(minX, b.x); maxX = Math.max(maxX, b.x);
                    minY = Math.min(minY, b.y); maxY = Math.max(maxY, b.y);
                    minZ = Math.min(minZ, b.z); maxZ = Math.max(maxZ, b.z);
                });
                const cx = (minX + maxX) / 2;
                const cy = (minY + maxY) / 2;
                const cz = (minZ + maxZ) / 2;
                lvl.blocks.forEach(pos => {
                    const mesh = window.SpatialScript.createBlockMesh(pos.x - cx, pos.y - cy, pos.z - cz);
                    mainGroup.add(mesh);
                    spatialBlocks.push(mesh);
                });
                spatialBlocks.sort((a, b) => {
                    if (Math.abs(a.position.y - b.position.y) > 0.1) return a.position.y - b.position.y;
                    return a.position.x - b.position.x;
                });
            }
            document.getElementById('spatial-controls').classList.add('translate-x-full');
        }

        window.count = function(dir) {
            if (dir === 1 && countIdx < spatialBlocks.length) {
                const b = spatialBlocks[countIdx];
                const mat = b.material.length ? b.material[0] : b.material;
                mat.color.setHex(window.SpatialScript.COLORS.highlight);
                mat.emissive.setHex(window.SpatialScript.COLORS.highlightEmissive);
                const s = b.scale.x;
                b.scale.set(s*1.2, s*1.2, s*1.2);
                setTimeout(() => b.scale.set(s,s,s), 150);
                countIdx++;
            } else if (dir === -1 && countIdx > 0) {
                countIdx--;
                const b = spatialBlocks[countIdx];
                const mat = b.material.length ? b.material[0] : b.material;
                mat.color.setHex(window.SpatialScript.COLORS.block);
                mat.emissive.setHex(window.SpatialScript.COLORS.blockEmissive);
            }
        };
        window.resetCount = function() {
            countIdx = 0;
            spatialBlocks.forEach(b => {
                const mat = b.material.length ? b.material[0] : b.material;
                mat.color.setHex(window.SpatialScript.COLORS.block);
                mat.emissive.setHex(window.SpatialScript.COLORS.blockEmissive);
            });
        };
        window.toggleSpatialMenu = function() {
            document.getElementById('spatial-controls').classList.toggle('translate-x-full');
        };

        const video = document.getElementById('webcam');
        const btnCam = document.getElementById('toggleCam');
        const statusText = document.getElementById('status-text');

        async function setupAI() {
            try {
                const vision = await FilesetResolver.forVisionTasks("https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.3/wasm");
                handLandmarker = await HandLandmarker.createFromOptions(vision, {
                    baseOptions: {
                        modelAssetPath: `https://storage.googleapis.com/mediapipe-models/hand_landmarker/hand_landmarker/float16/1/hand_landmarker.task`,
                        delegate: "GPU"
                    },
                    runningMode: "VIDEO",
                    numHands: 1
                });
                statusText.innerText = "AI Ready";
                statusText.classList.replace('text-yellow-400', 'text-green-400');
            } catch(e) {
                console.error(e);
                statusText.innerText = "AI Error";
                statusText.classList.replace('text-yellow-400', 'text-red-400');
            }
        }

        window.toggleCamera = function() {
            if(webcamRunning) {
                webcamRunning = false;
                if(video.srcObject) video.srcObject.getTracks().forEach(t => t.stop());
                video.srcObject = null;
                btnCam.innerHTML = `<i data-lucide="camera"></i> Start`;
                btnCam.classList.replace('bg-red-600', 'bg-cyan-600');
                btnCam.classList.replace('hover:bg-red-500', 'hover:bg-cyan-500');
                mainGroup.visible = false;
                document.getElementById('ar-toast').classList.add('hidden');
            } else {
                webcamRunning = true;
                navigator.mediaDevices.getUserMedia({ video: { width: 1280, height: 720 } }).then(stream => {
                    video.srcObject = stream;
                });
                btnCam.innerHTML = `<i data-lucide="stop-circle"></i> Stop`;
                btnCam.classList.replace('bg-cyan-600', 'bg-red-600');
                btnCam.classList.replace('hover:bg-cyan-500', 'hover:bg-red-500');
                document.getElementById('ar-toast').classList.remove('hidden');
            }
            lucide.createIcons();
        };
        btnCam.onclick = window.toggleCamera;

        const targetPos = new THREE.Vector3();
        const targetQuat = new THREE.Quaternion();

        function runAI() {
            if (!handLandmarker || !video.videoWidth) return;
            if (lastVideoTime !== video.currentTime) {
                lastVideoTime = video.currentTime;
                const results = handLandmarker.detectForVideo(video, performance.now());
                const ctx = document.getElementById('output_canvas').getContext('2d');
                ctx.clearRect(0,0,window.innerWidth, window.innerHeight);

                if (results.landmarks && results.landmarks.length > 0) {
                    const landmarks = results.landmarks[0];
                    const indexTip = landmarks[8];
                    const wrist = landmarks[0];
                    const middleMCP = landmarks[9];

                    const screenX = (1 - indexTip.x) * 2 - 1;
                    const screenY = -(indexTip.y * 2 - 1);
                    const palmSize = Math.hypot(middleMCP.x - wrist.x, middleMCP.y - wrist.y);
                    const zDepth = (palmSize * 20) - 7; 

                    const vector = new THREE.Vector3(screenX, screenY, 0.5);
                    vector.unproject(camera);
                    const dir = vector.sub(camera.position).normalize();
                    const distance = Math.abs((camera.position.z - zDepth) / dir.z);
                    const pos = camera.position.clone().add(dir.multiplyScalar(distance));
                    pos.y += 1.5; 
                    targetPos.copy(pos);

                    const vFinger = new THREE.Vector3((1-indexTip.x)-(1-landmarks[5].x), -(indexTip.y-landmarks[5].y), -(indexTip.z-landmarks[5].z)).normalize();
                    const vPalm = new THREE.Vector3((1-landmarks[17].x)-(1-landmarks[5].x), -(landmarks[17].y-landmarks[5].y), -(landmarks[17].z-landmarks[5].z)).normalize();
                    const vZ = new THREE.Vector3().crossVectors(vPalm, vFinger).normalize();
                    if(results.handedness[0][0].categoryName === "Right") vZ.negate();
                    const vX = new THREE.Vector3().crossVectors(vFinger, vZ).normalize();
                    const m = new THREE.Matrix4().makeBasis(vX, vFinger, vZ);
                    targetQuat.setFromRotationMatrix(m);

                    mainGroup.visible = true;
                    document.getElementById('ar-toast').innerText = "Hand Detected";
                    document.getElementById('ar-toast').classList.add('bg-green-600/80');
                } else {
                    document.getElementById('ar-toast').innerText = "Show your hand";
                    document.getElementById('ar-toast').classList.remove('bg-green-600/80');
                }
            }
            if(mainGroup && mainGroup.visible) {
                mainGroup.position.lerp(targetPos, 0.1);
                mainGroup.quaternion.slerp(targetQuat, 0.1);
            }
        }

        lucide.createIcons();
    </script>
</body>
</html>