<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KruBoat - Code Library</title>
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üíª</text></svg>">
    
    <meta name="referrer" content="no-referrer">
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-4MQ3GL6CTB"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-4MQ3GL6CTB');
    </script>

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Fonts: Sarabun + JetBrains Mono (Coding Font) -->
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <style> 
        body { font-family: 'Sarabun', sans-serif; } 
        .font-code { font-family: 'JetBrains Mono', monospace; }

        /* Scrollbar */
        .hide-scroll::-webkit-scrollbar { display: none; } 
        .hide-scroll { -ms-overflow-style: none; scrollbar-width: none; }
        
        /* Grid Background Pattern */
        .bg-tech-grid {
            background-color: #f8fafc;
            background-image: linear-gradient(#e2e8f0 1px, transparent 1px), linear-gradient(90deg, #e2e8f0 1px, transparent 1px);
            background-size: 40px 40px;
        }

        /* Filter Buttons Style */
        .filter-btn { 
            transition: all 0.2s; 
            font-family: 'JetBrains Mono', monospace;
        }
        .filter-btn.active { 
            background-color: #0f172a; /* Slate 900 */
            color: #4ade80; /* Green 400 */
            border-color: #4ade80;
            box-shadow: 0 0 15px rgba(74, 222, 128, 0.2);
        }
        .filter-btn:not(.active):hover { 
            background-color: #1e293b; 
            color: white;
            border-color: #94a3b8;
        }
    </style>
</head>
<body class="bg-tech-grid text-gray-800 flex flex-col min-h-screen">

    <!-- Navbar -->
    <nav class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <a href="/" class="text-xl font-bold text-blue-600"><i class="fa-solid fa-graduation-cap"></i> KruBoat</a>
            <div class="hidden md:flex space-x-6">
                <a href="/" class="hover:text-blue-600 transition">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a>
                <a href="student/" class="hover:text-blue-600 transition">‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</a>
                <a href="../app/" class="hover:text-teal-600 transition font-medium"><i class="fa-solid fa-rocket mr-1 text-sm"></i>‡πÅ‡∏≠‡∏õ‡∏Ñ‡∏£‡∏π‡πÇ‡∏ö‡πä‡∏ó</a>
                <a href="library/" class="text-blue-600 font-semibold">‡∏Ñ‡∏•‡∏±‡∏á‡πÇ‡∏Ñ‡πâ‡∏î</a>
            </div>
            <button id="mobile-menu-btn" class="md:hidden text-gray-600 focus:outline-none">
                <i class="fa-solid fa-bars text-xl"></i>
            </button>
        </div>
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-gray-100 shadow-lg">
            <div class="flex flex-col px-4 py-2 space-y-2">
                <a href="/" class="block py-2 text-gray-600 hover:text-blue-600 hover:bg-gray-50 px-2 transition">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a>
                <a href="student/" class="block py-2 text-gray-600 hover:text-blue-600 hover:bg-gray-50 px-2 transition">‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</a>
                <a href="../app/" class="block py-2 text-teal-600 font-semibold rounded hover:bg-teal-50 px-2">‡πÅ‡∏≠‡∏õ‡∏Ñ‡∏£‡∏π‡πÇ‡∏ö‡πä‡∏ó</a>
                <a href="library/" class="block py-2 text-blue-600 font-semibold rounded hover:bg-gray-50 px-2">‡∏Ñ‡∏•‡∏±‡∏á‡πÇ‡∏Ñ‡πâ‡∏î</a>
            </div>
        </div>
    </nav>

    <!-- Header (Coding Theme) -->
    <header class="relative bg-slate-900 text-white py-16 overflow-hidden border-b border-slate-700">
        <!-- Decorative Background -->
        <div class="absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none select-none">
            <div class="absolute top-10 left-10 text-6xl text-blue-500 font-code">{ }</div>
            <div class="absolute bottom-10 right-10 text-6xl text-green-500 font-code">&lt;/&gt;</div>
            <div class="absolute top-1/2 left-1/4 w-32 h-32 bg-blue-500 rounded-full blur-[100px]"></div>
            <div class="absolute bottom-1/3 right-1/4 w-40 h-40 bg-purple-500 rounded-full blur-[100px]"></div>
        </div>

        <div class="container mx-auto px-4 relative z-10 text-center">
            
            <div class="inline-block bg-slate-800 rounded-full px-4 py-1 mb-4 border border-slate-700 shadow-lg">
                <span class="text-xs font-code text-green-400">git pull origin knowledge</span>
            </div>
            
            <h1 class="text-4xl md:text-5xl font-bold mb-4 font-code tracking-tight">
                <span class="text-blue-400">&lt;</span>Code Library<span class="text-blue-400">/&gt;</span>
            </h1>
            <p class="text-slate-400 mb-10 max-w-2xl mx-auto text-lg leading-relaxed">
                ‡∏Ñ‡∏•‡∏±‡∏á‡πÅ‡∏™‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏£‡∏π‡∏¢‡∏∏‡∏Ñ‡πÉ‡∏´‡∏°‡πà <br class="hidden md:inline">‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏° Source Code, Web App ‡πÅ‡∏•‡∏∞‡∏™‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
            </p>
            
            <!-- Filter Section (Glassmorphism) -->
            <div class="max-w-4xl mx-auto bg-white/5 backdrop-blur-md rounded-2xl p-6 border border-white/10 shadow-2xl">
                
                <!-- 1. Categories -->
                <div class="flex flex-wrap justify-center gap-3 mb-6" id="category-filters">
                    <button onclick="filterLibrary('all')" class="filter-btn active px-6 py-2 rounded-lg border border-slate-600 bg-slate-800 text-sm font-bold text-gray-300 hover:text-white">
                        ALL
                    </button>
                    <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏≠‡∏∑‡πà‡∏ô ‡πÜ ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏î‡∏¢ JS ‡∏´‡∏£‡∏∑‡∏≠‡∏à‡∏∞‡πÉ‡∏™‡πà Hardcode ‡∏Å‡πá‡πÑ‡∏î‡πâ -->
                    <button onclick="filterLibrary('cat', 'Web Application')" class="filter-btn px-5 py-2 rounded-lg border border-slate-600 text-sm font-medium text-slate-300">Web App</button>
                    <button onclick="filterLibrary('cat', 'Game')" class="filter-btn px-5 py-2 rounded-lg border border-slate-600 text-sm font-medium text-slate-300">Game</button>
                    <button onclick="filterLibrary('cat', 'App Script')" class="filter-btn px-5 py-2 rounded-lg border border-slate-600 text-sm font-medium text-slate-300">App Script</button>
                    <button onclick="filterLibrary('cat', 'Utility')" class="filter-btn px-5 py-2 rounded-lg border border-slate-600 text-sm font-medium text-slate-300">Utility</button>
                </div>

                <!-- 2. Tags -->
                <div class="flex flex-wrap justify-center items-center gap-2 text-xs" id="tag-filters-container">
                    <span class="text-slate-500 font-code mr-2">filterByTags:</span>
                    <span class="text-slate-600 italic font-code">loading...</span>
                </div>

            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-12 flex-grow">
        <div class="flex justify-between items-center mb-8 border-b border-gray-200 pb-4">
            <h2 class="text-2xl font-bold text-gray-800 flex items-center gap-3">
                <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center text-blue-600">
                    <i class="fa-solid fa-folder-open"></i>
                </div>
                <span id="filter-status">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</span>
            </h2>
            <span class="text-sm font-code bg-slate-200 text-slate-700 px-3 py-1 rounded-full font-bold" id="item-count">0 items</span>
        </div>
        
        <div id="library-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <!-- Data from Firestore -->
            <div class="col-span-full text-center py-12 text-gray-400">
                <i class="fa-solid fa-circle-notch fa-spin text-4xl mb-4 text-blue-500"></i>
                <p>Connecting to Database...</p>
            </div>
        </div>
    </main>

    <footer class="bg-slate-900 text-white py-8 text-center mt-auto border-t border-slate-800">
        <div class="container mx-auto">
            <p class="text-sm text-slate-400 font-code mb-2">&copy; 2025 KruBoat.com</p>
            <p class="text-xs text-slate-600">Create by <span class="text-yellow-500">KruBoat Chonlasit Wichainpan</span> | <span class="text-blue-400">chonlasitgood@gmail.com</span></p>
        </div>
    </footer>

    <!-- type="module" -->
    <script type="module" src="js/script.js"></script>
    <script>
        // Mobile Menu Logic (Inline fallback)
        document.addEventListener('DOMContentLoaded', () => {
            const btn = document.getElementById('mobile-menu-btn');
            const menu = document.getElementById('mobile-menu');
            if(btn && menu) btn.onclick = () => menu.classList.toggle('hidden');
        });
    </script>
</body>
</html>