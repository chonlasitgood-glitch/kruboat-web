rules_version = '2';
service cloud.firestore {
match /databases/{database}/documents {

// ... (Rules เดิมของ projects, news, apps, roommate) ...
match /projects/{document=**} { allow read: if true; allow write: if request.auth != null; }
match /news/{document=**} { allow read: if true; allow write: if request.auth != null; }
match /apps/{document=**} { allow read: if true; allow write: if request.auth != null; }

// RoomMate
match /rm_students/{document=**} { allow read, write: if request.auth != null; }
match /rm_homeworks/{document=**} { allow read, write: if request.auth != null; }
match /rm_games/{document=**} { allow read: if true; allow write: if false; }
match /rm_config/{document=**} { allow read: if true; allow write: if request.auth != null; }
match /rm_logs/{document=**} { allow create, read: if request.auth != null; }

// Scoreboard
match /scoreboards/{document=**} { allow read, write: if true; }

// Messages
match /messages/{document=**} { allow create: if true; allow read, update, delete: if request.auth != null; }

// Config
match /config/{document=**} { allow read, write: if request.auth != null; }

match /events/{roomId}/{document=**} {
  allow read, write: if true; // เปิดกว้างชั่วคราวเพื่อให้เล่นง่าย (หรือเปลี่ยนเป็น if request.auth != null)
}

match /{document=**} {
      allow read, write: if request.auth != null;
}


}
}